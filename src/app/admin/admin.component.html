

<div class="container">

    <div class="tab">
        <button class="tablinks" (click)="setAsExam()" >View Users</button>
        <button class="tablinks" (click)="viewQuestions()">View Questions</button>
        <button class="tablinks" (click)="addQuestion()">Add Questions</button>
        <button class="tablinks" (click)="setAsExam()" >Set Exams</button>
        <button class="tablinks" (click)="setAsExam()" >View Results</button>
        <button class="tablinks" (click)="setAsExam()" >Add Puzzle</button>
        <button class="tablinks" (click)="addAnnouncement()" >Add Announcement</button>
    </div>

  <div *ngIf="enableAddQuestView">
        <div id="AddQuest" class="tabcontent">

        <div class="panel panel-default">

            <div class="panel-heading"> Add Questions </div>
            <div class="panel-body">

                <div [formGroup]="addForm">
                  
                  <div class="row">
                  <div class="col-sm-2"><label class="control-label col-4" for="question">Question:</label> </div>
                  <div class="col-sm-8"><input type="text" class="form-control" formControlName="question" id="question" required 
                            name="question" placeholder="Enter Question"> </div>
                  </div>
                  <br>  
                  <div class="row">
                      <div class="col-sm-2"><label class="control-label" for="opt1">Option 1:</label> </div>
                      <div class="col-sm-8"><input type="text" class="form-control" formControlName="opt1" id="opt1" required  
                            name="opt1" placeholder="Option 1"> </div>
                  </div>
                  <br>
                  <div class="row">
                      <div class="col-sm-2"><label class="control-label" for="opt2">Option 2:</label> </div>
                      <div class="col-sm-8"><input type="text" class="form-control" formControlName="opt2" id="opt2" required  
                            name="opt2" placeholder="Option 2"></div>
                  </div>
                  <br>
                  <div class="row">
                      <div class="col-sm-2"><label class="control-label" for="opt3">Option 3:</label> </div>
                      <div class="col-sm-8"><input type="text" class="form-control" formControlName="opt3" id="opt3" required  
                            name="opt3" placeholder="Option 3"> </div>
                  </div>
                  <br>
                  <div class="row">
                      <div class="col-sm-2"> <label class="control-label" for="opt4">Option 4:</label> </div>
                      <div class="col-sm-8"><input type="text" class="form-control" formControlName="opt4" id="opt4" required  
                            name="opt4" placeholder="Option 4"> </div>
                  </div>
                  <br>
                  <div class="row">
                      <div class="col-sm-2"> <label class="control-label" for="answer">Answer:</label> </div>
                      <div class="col-sm-8"> <input type="text" class="form-control" formControlName="answer" id="answer" required  
                            name="answer" placeholder="Answer"> </div>
                  </div>
                  <br>
                  <div class="row">
                      <div class="col-sm-2"> <label class="control-label" for="tags">Tags:</label> </div>
                      <div class="col-sm-8"> <input type="text" class="form-control" formControlName="tags" id="tags"   
                            name="tags" placeholder="Tags"> </div>
                  </div>
                  <br>
                  <div class="row">
                      <div class="col-sm-2"> <label class="control-label" for="note">Note:</label></div>
                      <div class="col-sm-8"> <input type="text" class="form-control" formControlName="note" id="note"   
                            name="note" placeholder="Note"></div>
                  </div>
                  <br>
                  <div class="row">
                      <div class="col-sm-2"> <label class="control-label" for="category">Category:</label></div>
                      <div class="dropdown col-sm-3">
                            <select id="category" class="form-control" formControlName="category" name="category">
                                    <option value="Spiritual">Spiritual</option>
                                    <option value="History">History</option>
                                    <option value="Geography">Geography</option>
                                    <option value="Science">Science</option>
                                    <option value="GK">General Knowledge</option>
                            </select>
                    </div>
              </div>
                  <br>
                  <div class="row">
                        <div class="col-sm-2"><label class="control-label col-4" for="level">Level:</label> </div>
                        <div class="col-sm-8">
                          <input type="radio" formControlName="level" name="level" value=1> 1
                          <input type="radio" formControlName="level" name="level" value=2> 2
                          <input type="radio" formControlName="level" name="level" value=3> 3 
                          <input type="radio" formControlName="level" name="level" value=4> 4
                          <input type="radio" formControlName="level" name="level" value=5> 5
                        </div>
                  </div>
                  <br>
                  <div class="row">
                    <div class="col-sm-2">
                        <label class="control-label"></label>
                    </div>
                    <div class="col-sm-4">
                        <button type="submit" class="btn btn-default" (click)="submitQuestion()">Submit</button>
                    </div>
                    <div class="col-sm-4">
                        <label class="control-label">{{ submitMessage }}</label>
                    </div>
                  </div>
                </div>
            </div>
          </div>
    </div>
</div>

    <div *ngIf="enableQuestView">
      <div id="ViewQuest" class="tabcontent">


        <div [formGroup]="viewForm">

                <div class="row">
                        <div class="col-sm-1"> <label class="control-label" for="category">Select Category</label></div>
                        <div class="dropdown col-sm-2">
                                <select id="category" class="form-control" formControlName="category" name="category" (change)="selectCategory()">
                                        <option value="Spiritual">Spiritual</option>
                                        <option value="History">History</option>
                                        <option value="Geography">Geography</option>
                                        <option value="Science">Science</option>
                                        <option value="GK">General Knowledge</option>
                                        <option value="all">All Questions</option>
                                    </select>
                                    <span></span>
                        </div>
                        <div class="col-sm-1" > <button class="btn btn-default" id="search" (click)="displayTable()"> Search </button>
                        </div>
                        <div class="col-sm-1" style="align-content: center"> <label class="control-label"></label>
                        </div>
                        <div class="col-sm-1" style="align-content: center"> <label class="control-label">OR</label>
                        </div>
                        <div class="col-sm-3"> <input class="form-control" type="text" formControlName="tag" id="tag"   
                              name="keyword" placeholder="Search by Tag"></div>
                        <button class="btn btn-default" id="search" (click)="displayTable()"> Search </button>
                </div>
                <br>
        
        <table *ngIf="showTable" class="table table-bordered" >
                    <thead>
                       <tr>
                       <th>No.</th>
                       <th>Question</th>
                       <th>Details</th>
                       <th><input type="checkbox" [checked]='false' formControlName="selectAllCheck" id="selectAll" (change)="selectAllCheck()" > 
                        <span style="padding-left:10px;"></span> 
                        <button class="btn btn-default" id="exam" (click)="setAsExam()"> Set Exam </button>
                        <button class="btn btn-default" id="exam" (click)="exportData()"> Export Data </button>
                        <button class="btn btn-default" id="delete" (click)="deleteSelected()"> Delete </button></th>
                       </tr> 
                    </thead>
                    <tbody formArrayName="questionList">
                        <tr  *ngFor="let q of questions; let i = index" [formGroupName]=i>
                            <td> {{q.id}} </td>
                            <td> {{ q.question }} </td>
                            <td> <button class="btn btn-default" id="details" (click)="viewDetailedQuestion(q.id)"> Details </button> </td>
                            <td> <input type="checkbox" formControlName="deleteCheck" [id]="deleteQues" (change)="selectAllCheck()"> </td>
                        </tr>
                    </tbody>
            </table>
        </div>
    </div>
    </div>

    <div *ngIf="enableQuestionsDetailView">
            <div id="DetailedQuest" class="tabcontent">

                    <div class="panel panel-default">
            
                        <div class="panel-heading" > Details of Question id: {{question.id}} </div>
                        <div class="panel-body" >
                        
                                <div class="row">
                                    <div class="col-sm-2"><label class="control-label" for="question">Question:</label> </div>
                                    <div class="col-sm-6"> {{question.question}} </div>
                                </div>
                                <br>  
                                <div class="row">
                                    <div class="col-sm-2"><label class="control-label" for="opt1">Option 1:</label> </div>
                                    <div class="col-sm-6"> {{question.opt1 }}</div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-sm-2"><label class="control-label" for="opt2">Option 2:</label> </div>
                                    <div class="col-sm-6"> {{question.opt2 }} </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-sm-2"><label class="control-label" for="opt3">Option 3:</label> </div>
                                    <div class="col-sm-6">{{question.opt3 }}</div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-sm-2"> <label class="control-label" for="opt4">Option 4:</label> </div>
                                    <div class="col-sm-6"> {{question.opt4 }} </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-sm-2"> <label class="control-label" for="answer">Answer:</label> </div>
                                    <div class="col-sm-6"> {{question.answer }} </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-sm-2"> <label class="control-label" for="tags">Tags:</label> </div>
                                    <div class="col-sm-6"> {{question.tags }} </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-sm-2"> <label class="control-label" for="note">Note:</label></div>
                                    <div class="col-sm-6"> {{question.note }} </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-sm-2"> <label class="control-label" for="category">Category:</label></div>
                                    <div class="col-sm-6"> {{question.category }} </div>
                                </div>
                                <br>
                                <div class="row">
                                      <div class="col-sm-2"><label class="control-label" for="level">Level:</label> </div>
                                      <div class="col-sm-6"> {{question.level }} </div>
                                </div>
                                <br>
                    </div>
            </div>
            </div>
    </div>

    <div *ngIf="enableAnnounceView">
        <div id="Announcement" class="tabcontent">

                <div class="panel panel-default">
        
                    <div class="panel-heading" > Add Announcement </div>
                    <div class="panel-body" >

                        
                        <div class="row">
                            <div class="col-sm-2"><label class="control-label col-4" for="targetUser">To :</label> </div>
                            <div class="col-sm-8"><input type="text" class="form-control" formControlName="" id="targetUser" name="targetUser" placeholder=""> </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-sm-2"><label class="control-label col-4" for="subject">Subject :</label> </div>
                            <div class="col-sm-8"><input type="text" class="form-control" formControlName="" id="subject" name="subject" placeholder=""> </div>
                        </div>
                        <br>

                        <div class="row">
                            <div class="col-sm-2"><label for="comment">Text:</label></div>
                            <div class="col-sm-8"><textarea class="form-control" rows="10" id="comment"></textarea></div>
                        </div>
                        <br>
                  

                        <div class="row">
                            <div class="col-sm-2"><label class="control-label" for="startDate">Start Date :</label> </div>
                            <div class="col-sm-8"><input type="date" id="startDate"  
                                      name="startDate" placeholder="Start Date"> </div>
                         </div>
                    
                         <div class="row">
                            <div class="col-sm-2"><label class="control-label" for="startTime">Start Time:</label> </div>
                            <div class="col-sm-8"><input type="time" id="startTime"  
                                      name="startTime" placeholder="Start Time"> </div>
                         </div>
                        <br>
                        <div class="row">
                            <div class="col-sm-2"><label class="control-label" for="startDate">End Date :</label> </div>
                            <div class="col-sm-8"><input type="date" id="endDate"  
                                      name="endDate" placeholder="End Date"> </div>
                         </div>
                    
                         <div class="row">
                            <div class="col-sm-2"><label class="control-label" for="endTime">End Time:</label> </div>
                            <div class="col-sm-8"><input type="time" id="endTime"  
                                      name="endTime" placeholder="End Time"> </div>
                         </div>

                         <br>
                         <div class="row">
                                <div class="col-sm-2"><label class="control-label" for="add"></label> </div>
                                <div class="col-sm-8"><button class="btn btn-default" id="add" (click)="submitAnnounce()"> Submit </button> </div>
                        </div>

                    </div>
                    
                </div>
        </div>
    </div>

</div>